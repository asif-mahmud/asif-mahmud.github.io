import{C as r}from"./code.0003f7fb.js";import{j as n,F as i,a as e}from"./index.a2895267.js";function c(){return n(i,{children:[e("h1",{children:"Creating monorepo projects with NPM workspaces and turborepo"}),n("section",{children:[e("h2",{children:"Requirements"}),n("p",{children:["You will need npm version"," ",e("a",{href:"https://docs.npmjs.com/about-npm",children:"NPM"}),"which is available with node installer or comes as a built-in package manager with node. Rest is pretty simple."]}),n("p",{children:["At the time of this writing, i've been using node version"," ",e("b",{children:"18.3.0"})," and npm version ",e("b",{children:"8.11.0"}),"."]})]}),n("section",{children:[e("h2",{children:"Setting up"}),e("p",{children:"Start a project-"}),e(r,{children:"npm init"}),n("p",{children:["Add ",e("a",{href:"https://turbo.build/repo",children:"turborepo"})," to the repo-"]}),e(r,{children:"npm i -D turbo"}),n("p",{children:["Create one or more folders to add projects (here ",e("pre",{children:"packages"}),"folder) in-"]}),e(r,{children:"mkdir -pv packages"}),n("p",{children:["Add the folder/s as workspace folders. To do that open up the"," ",e("b",{children:"project.json"})," file and add the following (ofcourse change the path as you need)-"]}),e(r,{children:'"workspaces": ["packages/*"]'}),n("p",{children:["Create a turborepo config file. Sample can be found",e("a",{href:"https://turbo.build/repo/docs/getting-started/existing-monorepo#create-a-pipeline",children:"here"}),". Copy the contents in a file named ",e("b",{children:"turbo.json"})," at the root of the repo folder."]})]}),n("section",{children:[e("h2",{children:"Create a project"}),n("p",{children:["Assuming the workspaces folder is named as ",e("b",{children:"packages"}),", you can add new projects under it by-"]}),e(r,{children:"npm init -w packages/new-project"}),"Replace ",e("i",{children:"new-project"})," with the project name."]}),n("section",{children:[e("h2",{children:"Package management"}),n("p",{children:["To add/remove packages to a workspace add ",e("pre",{children:"-w new-project"}),"with each npm install/uninstall command. Replace ",e("i",{children:"new-project"})," ","with project name."]})]}),n("section",{children:[e("h2",{children:"npx"}),n("p",{children:["Good news is ",e("b",{children:"npx"})," command also respects"," ",e("pre",{children:"-w new-project"}),"flag. So you can run commands inside a project folder without actually moving into that project folder. ",e("pre",{children:"npx"})," will take care of current path."]})]}),n("section",{children:[e("h2",{children:"Adding turbo commands to scripts option"}),e("p",{children:"You can run turbo's commands/pipelines like this-"}),e(r,{children:"npx turbo build"}),e("pre",{children:"build"})," being the command/pipeline of turbo.",n("p",{children:["Another way is to add ",e("pre",{children:"turbo build"})," or similar commands at the ",e("pre",{children:"scripts"})," options of ",e("pre",{children:"package.json"})," file and run them with ",e("pre",{children:"npm run build"})," type commands."]})]})]})}export{c as default};
